@startuml
'https://plantuml.com/component-diagram

left to right direction

package "Agent" {
    [Controller] as Agent_Controller
    package "Authentication" {
      [Presence Validator]
      [Network]
      [Visual]
    }

    package "Detections Framework Controller" {
      [Detections Dispatcher] -> "Detections Framework"
    }

    node "Detections Framework" {
    }

    package "Scheduling" {
      [Timer]
    }
}


package "Client" {
    [Controller] as Client_Controller
    [Notifications Dispatcher]
    [Commands Receiver]
    [Adapter]
}

package Configuration {
}

cloud "Remote Client" {
}

node "Remote Client Mock" {
}



[Adapter] <-- [Notifications Dispatcher]
[Adapter] <-- [Commands Receiver]
[Adapter] -> "Remote Client"
[Adapter] -> "Remote Client Mock"
Client_Controller <- Agent_Controller
Client_Controller --> Agent_Controller
[Presence Validator] <-- Agent_Controller
[Detections Dispatcher] <-- Agent_Controller
[Timer] <-- Agent_Controller
Client_Controller -> [Commands Receiver]
[Notifications Dispatcher] <- Client_Controller
[Presence Validator] -> [Network]
[Visual] <- [Presence Validator]

@enduml